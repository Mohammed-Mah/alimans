<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Solar System with Background</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>

    <script>
        // Create the scene
        const scene = new THREE.Scene();

        // Add background image
        const loader = new THREE.TextureLoader();
        loader.load('https://images.pexels.com/photos/957061/milky-way-starry-sky-night-sky-star-957061.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', function(texture) {
            scene.background = texture;
        });

        // Create a camera
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 15;

        // Create a WebGL renderer and attach it to our document
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Function to create a planet
        function createPlanet(size, color, orbitRadius, speed) {
            const geometry = new THREE.SphereGeometry(size, 32, 32);
            const material = new THREE.MeshBasicMaterial({
                color
            });
            const planet = new THREE.Mesh(geometry, material);
            planet.userData = {
                orbitRadius,
                speed,
                angle: Math.random() * Math.PI * 2
            }; // Store orbit data
            return planet;
        }

        // Create the planets with different sizes, colors, and orbit properties
        const earth = createPlanet(1, 0x00ff00, 6, 0.01); // Earth (Green)
        const mercury = createPlanet(0.4, 0x888888, 3, 0.02); // Mercury (Gray)
        const venus = createPlanet(0.9, 0xffa500, 4.5, 0.015); // Venus (Orange)
        const mars = createPlanet(0.6, 0xff0000, 7.5, 0.008); // Mars (Red)
        const jupiter = createPlanet(1.8, 0xffd700, 10, 0.005); // Jupiter (Yellow)

        // Add the planets to the scene
        scene.add(earth);
        scene.add(mercury);
        scene.add(venus);
        scene.add(mars);
        scene.add(jupiter);

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            // Function to update planet position based on its orbit
            function updatePlanetOrbit(planet) {
                planet.userData.angle += planet.userData.speed; // Increment angle for orbit
                planet.position.x = planet.userData.orbitRadius * Math.cos(planet.userData.angle); // Calculate X position
                planet.position.z = planet.userData.orbitRadius * Math.sin(planet.userData.angle); // Calculate Z position
                planet.rotation.y += 0.01; // Rotate the planet itself
            }

            // Update the position of all planets
            updatePlanetOrbit(earth);
            updatePlanetOrbit(mercury);
            updatePlanetOrbit(venus);
            updatePlanetOrbit(mars);
            updatePlanetOrbit(jupiter);

            // Render the scene from the perspective of the camera
            renderer.render(scene, camera);
        }

        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });
    </script>

</body>

</html>